@if(!loggedIn){
  <asl-google-signin-button></asl-google-signin-button>
}
@else {
  <button class="btn btn-outline-dark" (click)="signOut()">
    Sign Out
  </button>
}

@if(loggedIn){
  <div label="community">
    <app-join-room></app-join-room>
  </div>

  <!-- <form (submit)="addItemWithImage()" enctype="multipart/form-data")> -->

  <h1>{{googleUser.name}} is giving away</h1>
    <p>Item name: <input type="text" [(ngModel)]="formItem.name" /></p>
    <p>Item description: <input type="text" [(ngModel)]="formItem.description" /></p>
  
  
  <p>Category:
    <select [(ngModel)]="selectedCategory">
      @for(c of category; track $index){
        <option [value]="c.label">{{c.label}}</option>
      }
    </select>
  </p>
  <p>Condition:
    @if(selectedCategory === "Food")
    {
    <select [(ngModel)]="foodCondition">
        @for(c of foodCondition; track $index){
          <option [value]="c.label">{{c.label}}</option>
        }
      </select>
    }
    @else if(selectedCategory === "Services")
    {
      <select [(ngModel)]="selectedCondition" [disabled]=true></select>
    }
    @else{
    <select [(ngModel)]="selectedCondition">
      @for(c of condition; track $index){
        <option [value]="c.label">{{c.label}}</option>
      }
    </select>
  }
  </p>

    <!-- <input type="file" (change)="onFileSelected($event)" />
    <button type="submit">Add</button>
  </form> -->

  <input type="file" class="file-input" />
  <button (click)="addItem()">Add</button>
  
}
@else {
  <p>Login to post new item</p>
}

<h1>Free Items</h1>
@for(i of allItems; track i.id){
  <img [src]="i.pic"/>
  <p>{{i.name}}</p>
  <p>{{i.description}}</p>
  <p>{{i.condition}}</p>
  <p>Posted by {{i.google.userName}}</p>
}